---
import Layout, { Props as LayoutProps } from '../layouts/Page.astro'

export async function getStaticPaths() {
  const allPages = await Astro.glob<LayoutProps>('../content/pages/**/*.mdx')

  return allPages
    .map((page) => ({
      params: { slug: page.url?.slice(1) },
      props: { page },
    }))
    .filter((page) => !!page.params.slug)
}

const { page } = Astro.props
---

<Layout page={page} />
